{
  "next_action": [
    {
      "type": "tool_use",
      "tool": "llm.generate",
      "input": {
        "prompt": "\nYou are a software collaborator with two roles:\n1. Assist in documenting testing outcomes.\n2. Support the engineering team by identifying what functionality needs fixing.\nThe test is already complete. You are provided with a test result JSON object named testResult.\nYour job is to **generate report files for user** based on the contents of testResult.\n---\nYou MUST perform the following:\n### Generate Markdown Report\n- Extract all the test cases from testCaseResults.\n- Use this data to generate a standardized **Markdown** test report.\n- Follow the structure of reportTemplate.\n- Use tool \"file.write\" to save this report as a file `testsprite_tests\\testsprite-mcp-test-report.md` in the project directory.\n\n---\nYou must include every test case from testResult, list them one by one.\n---\n### Start generating the following file contents now:\n The full markdown report content (for `testsprite-mcp-test-report.md}`)\n---\n## Markdown Report Format:\n{{ Refer to schema }}\n\nAdditional Requirements:\n- The report must strictly follow the template style grouping (each ### Requirement: has multiple #### Test), each case must be classified under the appropriate requirement.\n- The Description under each Requirement can be automatically generated by combining the component and description of the test case.\n- Cases that cannot be classified should form a separate Requirement.\n\nYou must strictly follow these principles:\n- Field placeholders: use N/A if field does not exist  \n- **Project Name:** Use the project root directory name as the project name (e.g., voiceAgent-jiangzhang). If a .git repository name is available, use that instead.\n- **Version:** Manually check package.json in the project root. If the file exists, extract the version field; otherwise, use N/A.\n- **Code Repo:** Use the project root directory name as the project name (e.g., voiceAgent-jiangzhang). If a .git repository name is available, use that instead.\n- **Date:** 2025-09-04 (IMPORTANT: you must use the exact date string here.)\n- **Prepared by:** TestSprite AI Team\n- **Test Results:** testsprite-mcp-test-report.md\n- **Test Error:** Test cases that have passed do not contain the Test Error field or N/A.\n ",
        "schema": "\n# TestSprite AI Testing Report(MCP)\n\n---\n\n## 1️⃣ Document Metadata\n- **Project Name:** {project name}\n- **Version:** {MAJOR.MINOR.PATCH}\n- **Date:** {YYYY-MM-DD}\n- **Prepared by:** TestSprite AI Team\n\n---\n\n## 2️⃣ Requirement Validation Summary\n\n### Requirement: User Login\n- **Description:** Supports email/password login with validation.\n\n#### Test 1\n- **Test ID:** TC001\n- **Test Name:** Validate correct login with valid credentials.\n- **Test Code:** [code_file](./TC001_Validate_correct_login_with_valid_credentials.py)\n- **Test Error:** \n- **Test Visualization and Result:**\n- **Status:** ✅ Passed\n- **Severity:** LOW\n- **Analysis / Findings:** Login works as expected for valid user credentials.\n---\n\n#### Test 2\n- **Test ID:** TC002\n- **Test Name:** Reject login with incorrect password.\n- **Test Code:** [code_file](./TC002_Reject_login_with_incorrect_password.py)\n- **Test Error:** \n- **Test Visualization and Result:**\n- **Status:** ✅ Passed\n- **Severity:** LOW\n- **Analysis / Findings:** Correct error message shown. No security issues found.\n\n---\n\n#### Test 3\n- **Test ID:** TC003\n- **Test Name:** Lock account after 5 failed attempts.\n- **Test Code:** [code_file](./TC003_Lock_account_after_5_failed_attempts.py)\n- **Test Error:** \n- **Test Visualization and Result:**\n- **Status:** ⚠️ Partial\n- **Severity:** LOW\n- **Analysis / Findings:** Lock occurs, but error message not displayed consistently. Suggest adding explicit UI feedback.\n\n---\n\n### Requirement: User Signup\n- **Description:** Allows signup, validates email format.\n\n#### Test 1\n- **Test ID:** TC004\n- **Test Name:** Successful signup with valid email and password.\n- **Test Code:** [code_file](./TC004_Successful_signup_with_valid_email_and_password.py)\n- **Test Error:** \n- **Test Visualization and Result:**\n- **Status:** ✅ Passed\n- **Severity:** LOW\n- **Analysis / Findings:** Signup works as expected. Welcome email sent.\n\n---\n\n#### Test 2\n- **Test ID:** TC005\n- **Test Name:** Reject signup with invalid email.\n- **Test Code:** [code_file](./TC005_Reject_signup_with_invalid_email.py)\n- **Test Error:** \n- **Test Visualization and Result:**\n- **Status:** ⚠️ Partial\n- **Severity:** LOW\n- **Analysis / Findings:** Invalid email accepted — regex validation missing in code. Suggest adding client-side and server-side validation.\n\n---\n\n### Requirement: Password Reset\n- **Description:** Allows password reset via email.\n- **Test:** N/A  \n- **Status:** ❌ Not Tested\n\n- **Analysis / Findings:** No test generated. Feature not implemented in codebase.\n\n---\n\n## 3️⃣ Coverage & Matching Metrics\n\n- 85% of product requirements tested** \n- 70% of tests passed** \n- **Key gaps / risks:**  \nExample:  \n> 85% of product requirements had at least one test generated.  \n> 70% of tests passed fully.  \n> Risks: No password reset implementation; signup form missing edge validation.\n\n| Requirement        | Total Tests | ✅ Passed | ⚠️ Partial | ❌ Failed |\n|--------------------|-------------|-----------|-------------|------------|\n| (e.g. User Login)  | (e.g. 3)    | (e.g. 1)  | (e.g. 0)    | (e.g. 2)   |\n| ...                | ...         | ...       | ...         | ...        |\n---\n",
        "testResult": [
          {
            "testCaseId": "TC001",
            "failureReason": "The widget loads correctly in a collapsed state, displays the 'Enable voice' chip, and prompts the user for microphone permission upon interaction. This aligns with the expected initial user experience for microphone consent.",
            "component": "Frontend Widget Component",
            "recommendation": "No immediate action needed. Consider adding user feedback or animations to enhance clarity of the collapsed state and consent prompt for better UX.",
            "severity": "Low",
            "testCode": "[TC001_Widget_Initial_Load_and_Voice_Consent_Prompt.py](./TC001_Widget_Initial_Load_and_Voice_Consent_Prompt.py)",
            "testTitle": "Widget Initial Load and Voice Consent Prompt",
            "testStatus": "PASSED",
            "description": "Verify that on first visit, the widget loads collapsed with 'Enable voice' chip and prompts user for microphone permission upon tap.",
            "testError": "",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/de138ed3-19c6-437c-a811-1e75b128068e"
          },
          {
            "testCaseId": "TC002",
            "failureReason": "The onboarding flow captures user inputs but fails to provide any confirmation or success feedback after submission. The chat widget closes abruptly, and backend API calls to /api/chat and /api/events return 404 errors, indicating missing or misconfigured endpoints. This prevents proper onboarding completion and user acknowledgement.",
            "component": "Frontend Conversational Onboarding Flow, Backend API /api/chat and /api/events",
            "recommendation": "Implement and verify correct API endpoints for chat and event submission. Ensure success confirmation UI is displayed after lead data submission. Check API routing and server configuration to resolve 404 errors and add error handling for smoother user experience.",
            "severity": "High",
            "testCode": "[TC002_Conversational_Onboarding_Flow_Completion.py](./TC002_Conversational_Onboarding_Flow_Completion.py)",
            "testTitle": "Conversational Onboarding Flow Completion",
            "testStatus": "FAILED",
            "description": "Verify that the multi-step voice/text onboarding captures user name, email, phone, and business use case, validates inputs, auto-advances steps, and submits lead data successfully.",
            "testError": "Onboarding inputs were captured successfully but no confirmation or success feedback was visible after submission. The chat widget closes without any indication of lead data submission or onboarding completion. Reporting this critical issue and stopping further testing.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/chat:0:0)\n[ERROR] Error sending message: Error: API Error: 404\n    at sendMessage (http://localhost:5174/src/store/chatStore.ts:88:19)\n    at async handleSubmit (http://localhost:5174/src/components/chat/Composer.tsx:32:7) (at http://localhost:5174/src/store/chatStore.ts:100:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/chat:0:0)\n[ERROR] Error sending message: Error: API Error: 404\n    at sendMessage (http://localhost:5174/src/store/chatStore.ts:88:19)\n    at async handleSubmit (http://localhost:5174/src/components/chat/Composer.tsx:32:7) (at http://localhost:5174/src/store/chatStore.ts:100:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/chat:0:0)\n[ERROR] Error sending message: Error: API Error: 404\n    at sendMessage (http://localhost:5174/src/store/chatStore.ts:88:19)\n    at async handleSubmit (http://localhost:5174/src/components/chat/Composer.tsx:32:7) (at http://localhost:5174/src/store/chatStore.ts:100:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/chat:0:0)\n[ERROR] Error sending message: Error: API Error: 404\n    at sendMessage (http://localhost:5174/src/store/chatStore.ts:88:19)\n    at async handleSubmit (http://localhost:5174/src/components/chat/Composer.tsx:32:7) (at http://localhost:5174/src/store/chatStore.ts:100:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/5c5cef97-00a2-43c7-b2ff-acaa4b00e2a2"
          },
          {
            "testCaseId": "TC003",
            "failureReason": "Returning users correctly avoid the microphone permission prompt, but the personalized greeting with saved user profile data is not shown. The widget fails to resume the previous session state, likely due to issues in data retrieval or session persistence.",
            "component": "Frontend Widget Component - Session Management and Personalization",
            "recommendation": "Investigate the state management logic responsible for loading saved user profile data. Fix the flow that retrieves and displays the personalized greeting. Verify persistence mechanism (localStorage/sessionStorage or backend) and the data-binding to UI elements.",
            "severity": "Medium",
            "testCode": "[TC003_Return_Visit_Personalized_Experience.py](./TC003_Return_Visit_Personalized_Experience.py)",
            "testTitle": "Return Visit Personalized Experience",
            "testStatus": "FAILED",
            "description": "Verify that a returning user with previous consent and profile data is greeted personally and the widget interaction resumes without requesting mic permission again.",
            "testError": "Tested the assistant widget for returning user behavior. The microphone permission prompt is correctly not shown again, but the personalized greeting with the saved user name is not displayed. The widget does not appear to resume the session with the saved profile data as required. This is a failure to meet the task requirements.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/chat:0:0)\n[ERROR] Error sending message: Error: API Error: 404\n    at sendMessage (http://localhost:5174/src/store/chatStore.ts:88:19)\n    at async handleSubmit (http://localhost:5174/src/components/chat/Composer.tsx:32:7) (at http://localhost:5174/src/store/chatStore.ts:100:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/053b6814-240b-49bd-a5ae-c2e7ce0edf19"
          },
          {
            "testCaseId": "TC004",
            "failureReason": "While microphone access and input capture work, the widget fails to detect silence and auto-submit the message. The assistant responds with a generic welcome message instead of processing the captured input, indicating the voice activity detection (VAD) or auto-submission flow is broken or not triggered.",
            "component": "Frontend Voice Chat Widget - Voice Activity Detection and Auto-submit Logic",
            "recommendation": "Debug and fix the VAD integration to correctly detect silence events and trigger automatic submission of voice input. Confirm event listeners and state updates fire as expected on silence. Test end-to-end input handling from capture to submission for the voice chat.",
            "severity": "High",
            "testCode": "[TC004_Voice_Activity_Detection_and_Auto_send_on_Silence.py](./TC004_Voice_Activity_Detection_and_Auto_send_on_Silence.py)",
            "testTitle": "Voice Activity Detection and Auto-send on Silence",
            "testStatus": "FAILED",
            "description": "Verify that after explicit mic consent, the widget continuously listens and automatically sends user input after detecting silence via voice activity detection.",
            "testError": "Test completed. The voice chat widget granted microphone access and accepted voice input, but failed to auto-submit the message after silence detection. The assistant responded with a generic welcome message instead of processing the test input. This indicates a failure in the continuous listening and auto-submit functionality after silence detection.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/0411cc5e-0535-4413-aa2d-287932ce5e1e"
          },
          {
            "testCaseId": "TC005",
            "failureReason": "The widget plays TTS audio correctly but fails to stop playback and capture new voice input when the microphone is activated during TTS playback. This issue breaks the critical barge-in functionality, blocking conversational flow interaction.",
            "component": "Frontend Voice Chat Widget - TTS Playback and Barge-in Handling",
            "recommendation": "Implement and verify event handling logic that interrupts TTS playback immediately upon user speech input or microphone activation. Ensure microphone input capturing is properly synchronized with stopping TTS. Add tests for barge-in scenarios to prevent regressions.",
            "severity": "High",
            "testCode": "[TC005_Barge_in_Interruption_Handling.py](./TC005_Barge_in_Interruption_Handling.py)",
            "testTitle": "Barge-in Interruption Handling",
            "testStatus": "FAILED",
            "description": "Verify that user speech interrupts ongoing TTS playback and captures new input without loss.",
            "testError": "Tested TTS playback interruption by user speech on ODIADEV contact page. TTS playback triggered successfully with Nigerian English voice, but clicking microphone to simulate user speech did not stop TTS or capture new input. This is a critical issue preventing completion of the test. Reporting the issue and stopping further testing.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/chat:0:0)\n[ERROR] Error sending message: Error: API Error: 404\n    at sendMessage (http://localhost:5174/src/store/chatStore.ts:88:19)\n    at async handleSubmit (http://localhost:5174/src/components/chat/Composer.tsx:32:7) (at http://localhost:5174/src/store/chatStore.ts:100:18)\n[ERROR] Failed to load resource: the server responded with a status of 404 (Not Found) (at http://localhost:5174/api/events:0:0)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/89dea0d4-b181-4f20-b633-5b5538288b86"
          },
          {
            "testCaseId": "TC006",
            "failureReason": "Offline detection correctly queues user chats and lead submissions and automatically retries when connectivity is restored using background sync technology. This ensures data integrity and usability during intermittent network conditions.",
            "component": "Frontend Widget - Offline Mode and Background Sync",
            "recommendation": "No changes needed. Consider adding UI status indicators to inform users when actions are queued and retried to improve transparency.",
            "severity": "Low",
            "testCode": "[TC006_Offline_Mode_Queuing_and_Background_Sync.py](./TC006_Offline_Mode_Queuing_and_Background_Sync.py)",
            "testTitle": "Offline Mode Queuing and Background Sync",
            "testStatus": "PASSED",
            "description": "Verify that when offline status is detected, user chat and lead submissions are queued and retried automatically when connectivity is restored using background sync.",
            "testError": "",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/68502bd7-fd68-44d4-9622-142faa83a5fd"
          },
          {
            "testCaseId": "TC007",
            "failureReason": "The test could not be performed because the proxy API testing interface or documentation is inaccessible from the website. Without the ability to simulate allowed/disallowed domains or trigger rate limits, testing security controls at the proxy API layer is blocked.",
            "component": "Backend API Proxy Endpoint",
            "recommendation": "Provide access or detailed documentation for the proxy API testing environment. Implement or expose a testing page or tools to validate domain allowlisting, rate limiting, and quota exhaustion behaviors. Ensure backend logs or metrics are available for audit.",
            "severity": "Medium",
            "testCode": "[TC007_API_Proxy_Endpoint_Security_and_Rate_Limiting.py](./TC007_API_Proxy_Endpoint_Security_and_Rate_Limiting.py)",
            "testTitle": "API Proxy Endpoint Security and Rate Limiting",
            "testStatus": "FAILED",
            "description": "Validate that the server-side proxy API enforces domain allowlist, rate limits requests, and returns 429 status on quota exhaustion.",
            "testError": "Stopped the task because the proxy API testing interface or documentation is not accessible on the website. The current pages do not provide means to make API requests from allowed or disallowed domains or to test rate limits and quota exhaustion. Please provide access or instructions to the appropriate testing environment.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/ec6d4f05-b32e-4612-bddd-391536b06e5f"
          },
          {
            "testCaseId": "TC008",
            "failureReason": "Direct testing of /healthz and /api/voices endpoints via browser or UI was not possible due to missing or misconfigured routes and lack of raw JSON response rendering. No timing or expected data verification was achieved.",
            "component": "Backend API Endpoints /healthz and /api/voices",
            "recommendation": "Use appropriate HTTP client tools (curl, Postman) or backend logs to verify that /healthz responds with {ok:true} within 200ms and /api/voices returns Nigerian English voice options including 'naija_female'. Consider adding dedicated API test pages or API documentation with test examples.",
            "severity": "Medium",
            "testCode": "[TC008_Health_Check_and_Voices_Endpoint_Validation.py](./TC008_Health_Check_and_Voices_Endpoint_Validation.py)",
            "testTitle": "Health Check and Voices Endpoint Validation",
            "testStatus": "FAILED",
            "description": "Verify that /healthz returns {ok:true} within 200ms and /api/voices returns the expected Nigerian English voice options including 'naija_female'.",
            "testError": "Unable to test /healthz and /api/voices API endpoints via browser navigation or UI due to lack of direct JSON response and response time data. Recommend using external HTTP client tools (e.g., curl, Postman) or backend access to verify that /healthz returns {ok:true} within 200ms and /api/voices returns Nigerian English voice options including 'naija_female'. Current browser-based methods are insufficient for this task.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] No routes matched location \"/healthz\"  (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:213:48)\n[WARNING] No routes matched location \"/healthz\"  (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:213:48)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] No routes matched location \"/api/healthz\"  (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:213:48)\n[WARNING] No routes matched location \"/api/healthz\"  (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:213:48)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] No routes matched location \"/test-fetch.html\"  (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:213:48)\n[WARNING] No routes matched location \"/test-fetch.html\"  (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:213:48)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/80bb4d01-9fed-47ea-832a-39c8641c01c9"
          },
          {
            "testCaseId": "TC009",
            "failureReason": "The /api/tts endpoint returns a valid audio/mpeg stream when provided with text, and toggling sound playback works as expected. The functionality meets the requirements for text-to-speech audio streaming.",
            "component": "Frontend TTS API Integration",
            "recommendation": "Confirm correctness. For improvement, consider adding support for additional audio formats or caching to enhance performance and compatibility.",
            "severity": "Low",
            "testCode": "[TC009_TTS_API_Audio_Stream_Response.py](./TC009_TTS_API_Audio_Stream_Response.py)",
            "testTitle": "TTS API Audio Stream Response",
            "testStatus": "PASSED",
            "description": "Validate that the /api/tts endpoint returns a valid audio/mpeg stream when provided with text input and handles toggling sound playback.",
            "testError": "",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/63f0c0d9-8209-411f-8b57-c59a2239e3e8"
          },
          {
            "testCaseId": "TC010",
            "failureReason": "The widget UI meets WCAG AA standards including keyboard navigation, proper ARIA labels, and successful caption toggling, ensuring accessibility compliance is maintained.",
            "component": "Frontend Widget UI Accessibility Features",
            "recommendation": "No action required. Consider continuous monitoring and expanding coverage with automated accessibility testing and periodic manual audits.",
            "severity": "Low",
            "testCode": "[TC010_Accessibility_Compliance_Verification.py](./TC010_Accessibility_Compliance_Verification.py)",
            "testTitle": "Accessibility Compliance Verification",
            "testStatus": "PASSED",
            "description": "Ensure that the widget UI meets WCAG AA standards including keyboard navigation, ARIA labels, and captions toggle.",
            "testError": "",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/8a04eb4b-6cc8-44e4-9482-da618340fdba"
          },
          {
            "testCaseId": "TC011",
            "failureReason": "The widget properly limits storage of PII to required fields, anonymizes logs including IP addresses, and applies profanity filters on inputs. This satisfies privacy and data handling compliance requirements.",
            "component": "Frontend Privacy and Data Handling Module",
            "recommendation": "No immediate fix needed. Recommend periodic review of privacy policies and data handling processes to remain compliant with evolving regulations.",
            "severity": "Low",
            "testCode": "[TC011_Privacy_and_Data_Handling_Compliance.py](./TC011_Privacy_and_Data_Handling_Compliance.py)",
            "testTitle": "Privacy and Data Handling Compliance",
            "testStatus": "PASSED",
            "description": "Verify that the widget limits PII storage to required fields, anonymizes logs including IP addresses, and sanitizes inputs with profanity filters.",
            "testError": "",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/6b611949-8d69-44ca-869e-d33bdc33775f"
          },
          {
            "testCaseId": "TC012",
            "failureReason": "The test could not confirm widget performance metrics such as main thread work under 200ms, bundle size under 80KB gzipped, or PWA Lighthouse scores >= 90 due to unavailable data and external audit blockages (Google CAPTCHA). This leaves performance compliance unverified.",
            "component": "Frontend Widget Performance and Build Pipeline",
            "recommendation": "Perform local Lighthouse audits with developer tools and analyze bundle size from build artifacts. Automate performance checks in CI/CD pipeline and address any performance or bundle size regressions found.",
            "severity": "Medium",
            "testCode": "[TC012_Widget_Performance_and_Bundle_Size.py](./TC012_Widget_Performance_and_Bundle_Size.py)",
            "testTitle": "Widget Performance and Bundle Size",
            "testStatus": "FAILED",
            "description": "Confirm that widget initial main thread work is under 200ms, bundle size is under 80KB gzipped, and PWA Lighthouse scores for performance and compliance are >= 90.",
            "testError": "The task to confirm widget initial main thread work under 200ms, bundle size under 80KB gzipped, and PWA Lighthouse scores >= 90 could not be fully completed. Attempts to extract main thread work timing and bundle size data from the page failed as no such data was available. Attempts to run Lighthouse PWA audit via online search were blocked by Google CAPTCHA. The chat widget is loaded and interactive on the contact page, but performance and bundle size metrics remain unverified. Further testing requires local Lighthouse audit and bundle size analysis using developer tools or build artifacts. Task incomplete.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[ERROR] Failed to load resource: the server responded with a status of 429 () (at https://www.google.com/sorry/index?continue=https://www.google.com/search%3Fq%3Drun%2520Lighthouse%2520PWA%2520audit%2520on%2520localhost:5174/contact%26udm%3D14%26sei%3D_N24aLrICeWRkdUPlIz18Ak&q=EgRpdgU-GP2748UGIjBp3XMXtgHzDoC9h5cUBLd3ocmo4ij3s4qyp0yDxWy_fKbJTFSD10g-_YefIK9IM-kyAVJaAUM:0:0)\n[WARNING] An iframe which has both allow-scripts and allow-same-origin for its sandbox attribute can escape its sandboxing. (at https://www.google.com/recaptcha/enterprise/anchor?ar=1&k=6LdLLIMbAAAAAIl-KLj9p1ePhM-4LCCDbjtJLqRO&co=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbTo0NDM.&hl=en&v=Lu6n5xwy2gi_g68Hne1LVzm4&size=normal&s=giHTy7IiJmURZZ97V38RG69PUxuVuej-nysvQwI5_GDdnqdhJfuN_bmMUV_lNkXnyXt3EgM13t3ZMICe2G4YHe4qbFBbax9leG_tKbXWt_62ZiGzFLPhnLmX_Q6PB3VzJ39WqRvX3yueZxYKZLCYKXuUu8O7aTJuJvx4NJxcx9ZALaiHqiEfuzlGPaOPWiSCqCmWctzep4uT_QQ11xehEUALwWoqXj2iVuhoLHdWnC7MIE2NvQ7bywgJwuDk1-PVu7CKbe2dqkaU6V_mhDU6hsBvqAOKYFg&anchor-ms=20000&execute-ms=15000&cb=fc9uw8908gfo:0:0)\n[WARNING] An iframe which has both allow-scripts and allow-same-origin for its sandbox attribute can escape its sandboxing. (at https://www.google.com/recaptcha/enterprise/bframe?hl=en&v=Lu6n5xwy2gi_g68Hne1LVzm4&k=6LdLLIMbAAAAAIl-KLj9p1ePhM-4LCCDbjtJLqRO&bft=0dAFcWeA5UylOVf_NO1ABVXUCJ6vIUWumxuH1_uZ3HHlhCamW1ac2FKQhkeP4VKUSztkNsAkpqc9ivosOB0G5kcYf6z8Mg874qxA:0:0)\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/d5caf37c-c988-4bb6-8451-b4c09c6784b2"
          },
          {
            "testCaseId": "TC013",
            "failureReason": "Missing API key management UI or features in the admin dashboard prevented testing of key issuance, revocation, audit logging, and security header verification.",
            "component": "Frontend Admin Dashboard - API Key Management",
            "recommendation": "Develop and integrate API key management functionality within the admin dashboard including secure issuance, revocation, audit logging, and correct security headers. Provide testing access to validate controls.",
            "severity": "High",
            "testCode": "[TC013_Admin_API_Key_Issuance_and_Revocation_with_Audit_Logging.py](./TC013_Admin_API_Key_Issuance_and_Revocation_with_Audit_Logging.py)",
            "testTitle": "Admin API Key Issuance and Revocation with Audit Logging",
            "testStatus": "FAILED",
            "description": "Verify that admin API can securely issue and revoke public site keys with domain and quota restrictions, with audit logs recorded and correct security headers set.",
            "testError": "Stopped testing due to missing API key management functionality in the admin dashboard. Cannot proceed with issuing or revoking public API keys or verifying audit logs and security headers.\nBrowser Console Logs:\n[WARNING] ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)\n[WARNING] ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5174/node_modules/.vite/deps/react-router-dom.js?v=d39d7d17:4392:12)",
            "testVisualizationAndResult": "https://www.testsprite.com/dashboard/mcp/tests/2ceb8543-4bd8-4842-9fe8-d027b81ff379/b8725def-e602-4743-86fe-f2b87252ce97"
          }
        ]
      }
    }
  ]
}
